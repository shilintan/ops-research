服务器

​	系统盘raid1

​	使用万兆交换机(千兆也可以), 服务器之间使用万兆光纤(尽可能)

​	固定静态IP

多台小服务器合并成3台大的服务器

操作系统可以选用debian, 存储选用openebs(lvm方式)





应用可以直接用容器来安装, 不同应用用节点池隔离

k8s master 3 台小节点, 可以单独出来, 或者作为nginx节点池

k8s worker节点需要单独一块500g的磁盘作为容器目录, 容器会有日志写入和文件处理操作

应用数据盘需要提前在系统上用vgs初始化好

需要额外3台服务作为监控系统, 安装指标(p8s)、性能(skywalking)、日志(loki) 服务, 同时可以作为管理节点



应用:

​	web应用: 3副本+

​	nacos: 3副本集群

​	es: 3副本集群

​	minio: 3副本集群

​	mysql: 2副本主从半同步复制+网关(proxysql)+binlog+mydumper定时备份





安全:

​	建议采购安全产品



网络:

​	如果没有slb的话, 需要至少2个公网IP

​	vpn, 可以使用软件vpn或者硬件vpn



问题:

​	es用作业务场景?

​		有哪些插件需要安装

​	hadoop要不要换成轻量级的? 例如clickhouse



上线前:

​	评估用户使用量、数据量、提前进行尽可能的压测



离线安装:

​	导出镜像文件, 生成压缩包